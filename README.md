# 소강 (SoGang) - 멀티플레이어 카드 게임


## 📋 프로젝트 개요

소강은 "The Gang" 카드 게임을 기반으로 한 실시간 멀티플레이어 웹 게임입니다. Node.js, Express, Socket.io를 사용하여 실시간 통신을 구현하고, SQLite 데이터베이스로 사용자 데이터와 게임 상태를 관리합니다.

## 🎯 주요 기능

### 🔐 사용자 인증 시스템
- 회원가입 및 로그인
- 세션 기반 인증
- 관리자 권한 시스템
- 비밀번호 암호화 (bcryptjs)

### 🎮 게임 시스템
- **The Gang 카드 게임**: 2-6명 플레이어 지원
- 실시간 멀티플레이어 게임
- 방 생성 및 참가
- 실시간 게임 상태 동기화
- 턴 기반 게임 진행

### 🏠 게임 방 관리
- 방 생성 및 참가
- 플레이어 대기실
- 실시간 플레이어 목록
- 방 설정 (최대 플레이어 수 등)

### 👑 관리자 기능
- 사용자 관리
- 게임 통계 및 모니터링
- 시스템 설정 관리

## 🏗️ 기술 스택

### Backend
- **Node.js** (v18.0.0+)
- **Express.js** - 웹 서버 프레임워크
- **Socket.io** - 실시간 통신
- **SQLite3** - 데이터베이스
- **Express-session** - 세션 관리
- **bcryptjs** - 비밀번호 암호화

### Frontend
- **HTML5/CSS3** - 게임 인터페이스
- **JavaScript (ES6+)** - 클라이언트 로직
- **Socket.io Client** - 실시간 통신

### 개발 도구
- **Nodemon** - 개발 서버 자동 재시작
- **Cross-env** - 환경 변수 관리

## 📁 프로젝트 구조

```
soGang/
├── src/                    # 소스 코드
│   ├── app.js             # Express 앱 설정
│   ├── config/            # 설정 파일
│   ├── controllers/       # 컨트롤러
│   ├── middleware/        # 미들웨어
│   └── routes/            # API 라우트
├── public/                # 정적 파일
│   ├── game.html          # 메인 게임 페이지
│   ├── login.html         # 로그인 페이지
│   ├── admin.html         # 관리자 페이지
│   └── style.css          # 스타일시트
├── data/                  # 데이터베이스 파일
├── sessions/              # 세션 저장소
├── database.js            # 데이터베이스 설정
├── socketHandlers.js      # Socket.io 이벤트 핸들러
├── index.js               # 서버 진입점
└── package.json           # 프로젝트 설정
```

## 🚀 설치 및 실행

### 1. 의존성 설치
```bash
npm install
```

### 2. 개발 서버 실행
```bash
npm run dev
```

### 3. 프로덕션 서버 실행
```bash
npm start
```

### 4. 접속
- 게임: `http://localhost:3000`
- 관리자: `http://localhost:3000/admin`
- 로그인: `http://localhost:3000/login.html`

## 🎲 게임 규칙

### The Gang 카드 게임
- **목표**: 가장 높은 카드 조합을 만들어 승리
- **플레이어**: 2-6명
- **카드**: 52장의 표준 카드덱
- **진행**: 턴 기반으로 카드 교환 및 베팅

### 게임 진행
1. **1라운드**: 각 플레이어에게 카드 2장 배분
2. **카드 교환**: 플레이어 간 카드 교환
3. **베팅**: 라운드별 베팅 진행
4. **결과**: 최종 카드 조합으로 승자 결정

## 📊 데이터베이스 스키마

### 주요 테이블
- **users**: 사용자 정보 (ID, 사용자명, 비밀번호, 점수)
- **games**: 게임 정보 (ID, 이름, 호스트, 최대 플레이어, 상태)
- **settings**: 시스템 설정

## 🔧 개발 현황

### ✅ 완료된 기능
- [x] 사용자 인증 시스템 (회원가입/로그인)
- [x] 기본 게임 방 생성 및 참가
- [x] 실시간 Socket.io 통신
- [x] The Gang 게임 로직 (1라운드)
- [x] 관리자 페이지 기본 구조
- [x] 데이터베이스 백업/복원 시스템
- [x] 세션 관리 및 보안
- [x] 반응형 웹 디자인

### 🚧 진행 중인 기능
- [ ] 게임 진행 로직 완성 (2라운드 이후)
- [ ] 베팅 시스템 구현
- [ ] 게임 결과 처리

### ❌ 미구현 기능
- [ ] 게임 히스토리 및 통계
- [ ] 사용자 프로필 및 설정
- [ ] 친구 시스템
- [ ] 채팅 시스템
- [ ] 게임 리플레이
- [ ] 모바일 앱 지원

## 🐛 알려진 버그 및 이슈

### 🔴 심각한 버그
- [ ] 게임 진행 중 연결 끊김 시 상태 불일치
- [ ] 동시 접속 시 세션 충돌 가능성
- [ ] 메모리 누수 (Socket 연결 관리)

### 🟡 중간 수준 이슈
- [ ] 게임 상태 동기화 지연
- [ ] UI 반응성 개선 필요
- [ ] 에러 처리 및 사용자 피드백 부족

### 🟢 경미한 이슈
- [ ] 일부 브라우저 호환성 문제
- [ ] 로딩 상태 표시 개선 필요
- [ ] 로그 메시지 정리 필요

## 🎯 향후 개발 계획

### 단기 목표 (1-2주)
1. **게임 로직 완성**
   - 2라운드 이후 게임 진행 구현
   - 베팅 시스템 완성
   - 게임 종료 및 결과 처리

2. **버그 수정**
   - 연결 끊김 처리 개선
   - 세션 관리 안정화
   - 메모리 누수 해결

### 중기 목표 (1-2개월)
1. **사용자 경험 개선**
   - 게임 히스토리 시스템
   - 사용자 프로필 및 설정
   - 친구 시스템

2. **성능 최적화**
   - 데이터베이스 쿼리 최적화
   - Socket.io 이벤트 최적화
   - 프론트엔드 성능 개선

### 장기 목표 (3-6개월)
1. **고급 기능**
   - AI 플레이어 지원
   - 토너먼트 모드
   - 커스텀 게임 규칙

2. **플랫폼 확장**
   - 모바일 앱 개발
   - 웹소켓 클러스터링
   - 마이크로서비스 아키텍처

## 🧪 테스트

### API 테스트
- `http://localhost:3000/api-test.html` - API 엔드포인트 테스트

### 실시간 테스트
- `http://localhost:3000/realtime-test.html` - Socket.io 연결 테스트

## 📝 개발 가이드

### 코드 스타일
- JavaScript ES6+ 사용
- 일관된 들여쓰기 (2칸 공백)
- 한국어 주석 사용
- 명확한 함수 및 변수명

### Git 커밋 규칙
- `feat:` - 새 기능 추가
- `fix:` - 버그 수정
- `docs:` - 문서 수정
- `style:` - 코드 스타일 변경
- `refactor:` - 코드 리팩토링

## 🤝 기여 방법

1. 이슈 생성 또는 기존 이슈 확인
2. 기능 브랜치 생성 (`feature/기능명`)
3. 코드 작성 및 테스트
4. Pull Request 생성
5. 코드 리뷰 및 병합

## 📄 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다.

## 👥 개발팀

- **프로젝트 관리자**: [사용자명]
- **개발자**: [개발자명]
- **디자이너**: [디자이너명]

## 📞 연락처

- **이슈 리포트**: GitHub Issues
- **문의사항**: [이메일 주소]
- **프로젝트 홈페이지**: [URL]

---

**마지막 업데이트**: 2024년 12월
**버전**: v2.1.0 